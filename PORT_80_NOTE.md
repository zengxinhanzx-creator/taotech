# ç«¯å£ 80 ä½¿ç”¨è¯´æ˜

## âš ï¸ é‡è¦æç¤º

ä½¿ç”¨ç«¯å£ 80 éœ€è¦ **root æƒé™** æˆ–ä½¿ç”¨ **sudo**ã€‚

## ğŸ” æƒé™è¦æ±‚

åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œç«¯å£ 1024 ä»¥ä¸‹çš„ç«¯å£éœ€è¦ root æƒé™æ‰èƒ½ç»‘å®šã€‚

### æ–¹æ³• 1: ä½¿ç”¨ sudoï¼ˆä¸æ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰

```bash
sudo node server.js
```

### æ–¹æ³• 2: ä½¿ç”¨ PM2ï¼ˆæ¨èï¼‰

PM2 å¯ä»¥ä»¥ root æƒé™è¿è¡Œï¼Œä½†å»ºè®®é…ç½®ä¸ºç‰¹å®šç”¨æˆ·ï¼š

```bash
# ä»¥ root æƒé™å¯åŠ¨ PM2
sudo pm2 start server.js --name taotech

# æˆ–é…ç½®ä¸ºç‰¹å®šç”¨æˆ·ï¼ˆæ›´å®‰å…¨ï¼‰
sudo pm2 start server.js --name taotech --user www
```

### æ–¹æ³• 3: ä½¿ç”¨ systemdï¼ˆæ¨èï¼‰

systemd æœåŠ¡å¯ä»¥é…ç½®ä¸ºç‰¹å®šç”¨æˆ·è¿è¡Œï¼Œä½†éœ€è¦ root æƒé™ç»‘å®šç«¯å£ï¼š

```ini
[Service]
User=www
# systemd ä¼šè‡ªåŠ¨å¤„ç†ç«¯å£ç»‘å®šæƒé™
```

### æ–¹æ³• 4: ä½¿ç”¨ setcapï¼ˆé«˜çº§ï¼‰

ç»™ Node.js äºŒè¿›åˆ¶æ–‡ä»¶è®¾ç½® CAP_NET_BIND_SERVICE èƒ½åŠ›ï¼š

```bash
sudo setcap 'cap_net_bind_service=+ep' $(which node)
```

ç„¶åå¯ä»¥ä»¥æ™®é€šç”¨æˆ·è¿è¡Œï¼š
```bash
node server.js
```

## ğŸ”„ æ›¿ä»£æ–¹æ¡ˆ

å¦‚æœä¸æƒ³ä½¿ç”¨ root æƒé™ï¼Œå¯ä»¥ï¼š

1. **ä½¿ç”¨åå‘ä»£ç†**ï¼ˆæ¨èï¼‰
   - ä½¿ç”¨ Nginx ç›‘å¬ 80 ç«¯å£
   - Node.js è¿è¡Œåœ¨ 8080 æˆ–å…¶ä»–ç«¯å£
   - Nginx åå‘ä»£ç†åˆ° Node.js

2. **ä½¿ç”¨å…¶ä»–ç«¯å£**
   - ä¿®æ”¹ `PORT=8080` æˆ–å…¶ä»–ç«¯å£
   - é€šè¿‡é˜²ç«å¢™è½¬å‘ 80 -> 8080

## ğŸ“ å½“å‰é…ç½®

å½“å‰æœåŠ¡å™¨é…ç½®ä¸ºï¼š
- **HTTP æ¨¡å¼**: ç«¯å£ 80
- **HTTPS æ¨¡å¼**: ç«¯å£ 443
- **å¼€å‘æ¨¡å¼**: ç«¯å£ 80ï¼ˆéœ€è¦ root æƒé™ï¼‰

## ğŸš€ å¯åŠ¨å»ºè®®

### ç”Ÿäº§ç¯å¢ƒ

```bash
# ä½¿ç”¨ PM2ï¼ˆæ¨èï¼‰
sudo pm2 start server.js --name taotech
sudo pm2 startup
sudo pm2 save

# æˆ–ä½¿ç”¨ systemd
sudo systemctl start taotech
sudo systemctl enable taotech
```

### å¼€å‘ç¯å¢ƒ

å¦‚æœä¸æƒ³ä½¿ç”¨ root æƒé™ï¼Œå¯ä»¥ä¸´æ—¶ä¿®æ”¹ç«¯å£ï¼š

```bash
export PORT=8080
node server.js
```

æˆ–ä¿®æ”¹ `server.js` ä¸­çš„é»˜è®¤ç«¯å£ã€‚

---

**æ³¨æ„**: ä½¿ç”¨ç«¯å£ 80 æ—¶ï¼Œç¡®ä¿æ²¡æœ‰å…¶ä»–æœåŠ¡ï¼ˆå¦‚ Nginxã€Apacheï¼‰å ç”¨è¯¥ç«¯å£ã€‚

